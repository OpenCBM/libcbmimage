<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cbmimage: block accessor functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">cbmimage
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__cbmimage__blockaccessor.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">block accessor functions</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcbmimage__blockaccessor__s.html">cbmimage_blockaccessor_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">cbmimage block accessor data structure  <a href="structcbmimage__blockaccessor__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gac8dc4d90849454b0dc982e58975a69bb" id="r_gac8dc4d90849454b0dc982e58975a69bb"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcbmimage__blockaccessor__s.html">cbmimage_blockaccessor_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a></td></tr>
<tr class="memdesc:gac8dc4d90849454b0dc982e58975a69bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">cbmimage block accessor data structure  <br /></td></tr>
<tr class="separator:gac8dc4d90849454b0dc982e58975a69bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadc2eb35df9bed95a038bdccac3d1ff4f" id="r_gadc2eb35df9bed95a038bdccac3d1ff4f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadc2eb35df9bed95a038bdccac3d1ff4f">cbmimage_blockaccessor_create</a> (<a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *image, <a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> block)</td></tr>
<tr class="memdesc:gadc2eb35df9bed95a038bdccac3d1ff4f"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a block accessor for a specific block  <br /></td></tr>
<tr class="separator:gadc2eb35df9bed95a038bdccac3d1ff4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae26be88b3e81df51a1f717f6f10476c" id="r_gaae26be88b3e81df51a1f717f6f10476c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaae26be88b3e81df51a1f717f6f10476c">cbmimage_blockaccessor_create_from_ts</a> (<a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *image, uint8_t track, uint8_t sector)</td></tr>
<tr class="memdesc:gaae26be88b3e81df51a1f717f6f10476c"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a block accessor for a specific T/S  <br /></td></tr>
<tr class="separator:gaae26be88b3e81df51a1f717f6f10476c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga87c610b6a2acd93526207306fe6956d6" id="r_ga87c610b6a2acd93526207306fe6956d6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga87c610b6a2acd93526207306fe6956d6">cbmimage_blockaccessor_create_from_lba</a> (<a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *image, uint16_t lba)</td></tr>
<tr class="memdesc:ga87c610b6a2acd93526207306fe6956d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">create a block accessor for a specific LBA  <br /></td></tr>
<tr class="separator:ga87c610b6a2acd93526207306fe6956d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4d7b81446dda7584008945f77e1a122" id="r_gae4d7b81446dda7584008945f77e1a122"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae4d7b81446dda7584008945f77e1a122">cbmimage_blockaccessor_close</a> (<a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *accessor)</td></tr>
<tr class="memdesc:gae4d7b81446dda7584008945f77e1a122"><td class="mdescLeft">&#160;</td><td class="mdescRight">close a block accessor, freeing its resources  <br /></td></tr>
<tr class="separator:gae4d7b81446dda7584008945f77e1a122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga67433f774013365bd01fe6b186161632" id="r_ga67433f774013365bd01fe6b186161632"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga67433f774013365bd01fe6b186161632">cbmimage_blockaccessor_set_to</a> (<a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *accessor, <a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> block)</td></tr>
<tr class="memdesc:ga67433f774013365bd01fe6b186161632"><td class="mdescLeft">&#160;</td><td class="mdescRight">set a block accessor for a specific block  <br /></td></tr>
<tr class="separator:ga67433f774013365bd01fe6b186161632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga33264687cc1c68a39ca1810baa959f98" id="r_ga33264687cc1c68a39ca1810baa959f98"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga33264687cc1c68a39ca1810baa959f98">cbmimage_blockaccessor_set_to_ts</a> (<a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *accessor, uint8_t track, uint8_t sector)</td></tr>
<tr class="memdesc:ga33264687cc1c68a39ca1810baa959f98"><td class="mdescLeft">&#160;</td><td class="mdescRight">set a block accessor for a specific T/S  <br /></td></tr>
<tr class="separator:ga33264687cc1c68a39ca1810baa959f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga63056f8216deb158639da0ae919a567c" id="r_ga63056f8216deb158639da0ae919a567c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga63056f8216deb158639da0ae919a567c">cbmimage_blockaccessor_set_to_lba</a> (<a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *accessor, uint16_t lba)</td></tr>
<tr class="memdesc:ga63056f8216deb158639da0ae919a567c"><td class="mdescLeft">&#160;</td><td class="mdescRight">set a block accessor for a specific LBA  <br /></td></tr>
<tr class="separator:ga63056f8216deb158639da0ae919a567c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaedda7fc65a49e7fb5add398d60ab97cb" id="r_gaedda7fc65a49e7fb5add398d60ab97cb"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaedda7fc65a49e7fb5add398d60ab97cb">cbmimage_blockaccessor_advance</a> (<a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *accessor)</td></tr>
<tr class="memdesc:gaedda7fc65a49e7fb5add398d60ab97cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">advance a block accessor to the next block  <br /></td></tr>
<tr class="separator:gaedda7fc65a49e7fb5add398d60ab97cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c8b35f1be1db235c895cec6a59b740b" id="r_ga1c8b35f1be1db235c895cec6a59b740b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1c8b35f1be1db235c895cec6a59b740b">cbmimage_blockaccessor_get_next_block</a> (<a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *accessor, <a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> *block_next)</td></tr>
<tr class="memdesc:ga1c8b35f1be1db235c895cec6a59b740b"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the next block of this accessor if we follow the chain  <br /></td></tr>
<tr class="separator:ga1c8b35f1be1db235c895cec6a59b740b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab429ba453e4769638a7daf6f1a095d16" id="r_gab429ba453e4769638a7daf6f1a095d16"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab429ba453e4769638a7daf6f1a095d16">cbmimage_blockaccessor_follow</a> (<a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *accessor)</td></tr>
<tr class="memdesc:gab429ba453e4769638a7daf6f1a095d16"><td class="mdescLeft">&#160;</td><td class="mdescRight">follow the block chain of a block accessor to the next block  <br /></td></tr>
<tr class="separator:gab429ba453e4769638a7daf6f1a095d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab168c2ef44b26fa8f8cc2eaf8b2cff5e" id="r_gab168c2ef44b26fa8f8cc2eaf8b2cff5e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab168c2ef44b26fa8f8cc2eaf8b2cff5e">cbmimage_i_blockaccessor_release</a> (<a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *accessor)</td></tr>
<tr class="separator:gab168c2ef44b26fa8f8cc2eaf8b2cff5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gac8dc4d90849454b0dc982e58975a69bb" name="gac8dc4d90849454b0dc982e58975a69bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8dc4d90849454b0dc982e58975a69bb">&#9670;&#160;</a></span>cbmimage_blockaccessor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcbmimage__blockaccessor__s.html">cbmimage_blockaccessor_s</a> <a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>cbmimage block accessor data structure </p>
<p>In order to access blocks, this data structure can be used. For small images, it gives back pointers to the in-memory copy of a block.</p>
<p>For bigger images, it accesses the on-disk image and gives a copy of it somewhere in memory. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaedda7fc65a49e7fb5add398d60ab97cb" name="gaedda7fc65a49e7fb5add398d60ab97cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaedda7fc65a49e7fb5add398d60ab97cb">&#9670;&#160;</a></span>cbmimage_blockaccessor_advance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_blockaccessor_advance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *</td>          <td class="paramname"><span class="paramname"><em>accessor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>advance a block accessor to the next block </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">accessor</td><td>pointer to the block accessor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>!= 0 if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If you want to follow the chain of the block as given by the first two byte, use <a class="el" href="#gab429ba453e4769638a7daf6f1a095d16" title="follow the block chain of a block accessor to the next block">cbmimage_blockaccessor_follow()</a> instead.</li>
<li>The block is changed to the next block on the current track.</li>
<li>If it is the last block of this track, the first block of the next track is used.</li>
<li>If this is the last block of this image, an error results and no block is returned. In this case, the return value is != 0. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gae4d7b81446dda7584008945f77e1a122" name="gae4d7b81446dda7584008945f77e1a122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4d7b81446dda7584008945f77e1a122">&#9670;&#160;</a></span>cbmimage_blockaccessor_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbmimage_blockaccessor_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *</td>          <td class="paramname"><span class="paramname"><em>accessor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>close a block accessor, freeing its resources </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">accessor</td><td>pointer to the block accessor </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadc2eb35df9bed95a038bdccac3d1ff4f" name="gadc2eb35df9bed95a038bdccac3d1ff4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc2eb35df9bed95a038bdccac3d1ff4f">&#9670;&#160;</a></span>cbmimage_blockaccessor_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> * cbmimage_blockaccessor_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *</td>          <td class="paramname"><span class="paramname"><em>image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a></td>          <td class="paramname"><span class="paramname"><em>block</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a block accessor for a specific block </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>pointer to the image data</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>the block address which we want to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>the block accessor structure for this accessor</li>
<li>NULL if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>When the block accessor is not needed anymore, it must be freed with <a class="el" href="#gae4d7b81446dda7584008945f77e1a122" title="close a block accessor, freeing its resources">cbmimage_blockaccessor_close()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga87c610b6a2acd93526207306fe6956d6" name="ga87c610b6a2acd93526207306fe6956d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga87c610b6a2acd93526207306fe6956d6">&#9670;&#160;</a></span>cbmimage_blockaccessor_create_from_lba()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> * cbmimage_blockaccessor_create_from_lba </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *</td>          <td class="paramname"><span class="paramname"><em>image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>lba</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a block accessor for a specific LBA </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>pointer to the image data</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lba</td><td>the LBA of the block which we want to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>the block accessor structure for this accessor</li>
<li>NULL if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>When the block accessor is not needed anymore, it must be freed with <a class="el" href="#gae4d7b81446dda7584008945f77e1a122" title="close a block accessor, freeing its resources">cbmimage_blockaccessor_close()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaae26be88b3e81df51a1f717f6f10476c" name="gaae26be88b3e81df51a1f717f6f10476c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae26be88b3e81df51a1f717f6f10476c">&#9670;&#160;</a></span>cbmimage_blockaccessor_create_from_ts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> * cbmimage_blockaccessor_create_from_ts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *</td>          <td class="paramname"><span class="paramname"><em>image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>track</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>sector</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>create a block accessor for a specific T/S </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>pointer to the image data</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>the track of the block which we want to access</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sector</td><td>the sector of the block which we want to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>the block accessor structure for this accessor</li>
<li>NULL if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>When the block accessor is not needed anymore, it must be freed with <a class="el" href="#gae4d7b81446dda7584008945f77e1a122" title="close a block accessor, freeing its resources">cbmimage_blockaccessor_close()</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gab429ba453e4769638a7daf6f1a095d16" name="gab429ba453e4769638a7daf6f1a095d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab429ba453e4769638a7daf6f1a095d16">&#9670;&#160;</a></span>cbmimage_blockaccessor_follow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_blockaccessor_follow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *</td>          <td class="paramname"><span class="paramname"><em>accessor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>follow the block chain of a block accessor to the next block </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">accessor</td><td>pointer to the block accessor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>!= 0 if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If order to advance to the next hardware block of this image, use <a class="el" href="#gaedda7fc65a49e7fb5add398d60ab97cb" title="advance a block accessor to the next block">cbmimage_blockaccessor_advance()</a> instead.</li>
<li>This function follows the chain of the block as give by the first two byte of the current block.</li>
<li>If this is the last block of this chain, return value is != 0. In this case, the accessor cannot be used to access any data anymore. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga1c8b35f1be1db235c895cec6a59b740b" name="ga1c8b35f1be1db235c895cec6a59b740b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c8b35f1be1db235c895cec6a59b740b">&#9670;&#160;</a></span>cbmimage_blockaccessor_get_next_block()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_blockaccessor_get_next_block </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *</td>          <td class="paramname"><span class="paramname"><em>accessor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> *</td>          <td class="paramname"><span class="paramname"><em>block_next</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the next block of this accessor if we follow the chain </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">accessor</td><td>pointer to the block accessor</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">block_next</td><td>pointer to a valid block address. On termination, it will contain the next block address.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>&gt; 0: this is the last block, the return gives the number of valid byte in this block. This is, if the link of this last block is (0,x), it will return the value x.</li>
<li>-1 if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If this is the last block of this chain, return value is != 0. In this case, the parameter block is not modified. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga67433f774013365bd01fe6b186161632" name="ga67433f774013365bd01fe6b186161632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga67433f774013365bd01fe6b186161632">&#9670;&#160;</a></span>cbmimage_blockaccessor_set_to()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_blockaccessor_set_to </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *</td>          <td class="paramname"><span class="paramname"><em>accessor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a></td>          <td class="paramname"><span class="paramname"><em>block</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set a block accessor for a specific block </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">accessor</td><td>pointer to the block accessor</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>the block address which we want to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>!= 0 if an error occurred </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga63056f8216deb158639da0ae919a567c" name="ga63056f8216deb158639da0ae919a567c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga63056f8216deb158639da0ae919a567c">&#9670;&#160;</a></span>cbmimage_blockaccessor_set_to_lba()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_blockaccessor_set_to_lba </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *</td>          <td class="paramname"><span class="paramname"><em>accessor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>lba</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set a block accessor for a specific LBA </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">accessor</td><td>pointer to the block accessor</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">lba</td><td>the LBA of the block which we want to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>!= 0 if an error occurred </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga33264687cc1c68a39ca1810baa959f98" name="ga33264687cc1c68a39ca1810baa959f98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga33264687cc1c68a39ca1810baa959f98">&#9670;&#160;</a></span>cbmimage_blockaccessor_set_to_ts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_blockaccessor_set_to_ts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *</td>          <td class="paramname"><span class="paramname"><em>accessor</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>track</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>sector</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>set a block accessor for a specific T/S </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">accessor</td><td>pointer to the block accessor</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>the track of the block which we want to access</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">sector</td><td>the sector of the block which we want to access</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>!= 0 if an error occurred </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gab168c2ef44b26fa8f8cc2eaf8b2cff5e" name="gab168c2ef44b26fa8f8cc2eaf8b2cff5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab168c2ef44b26fa8f8cc2eaf8b2cff5e">&#9670;&#160;</a></span>cbmimage_i_blockaccessor_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_i_blockaccessor_release </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="#gac8dc4d90849454b0dc982e58975a69bb">cbmimage_blockaccessor</a> *</td>          <td class="paramname"><span class="paramname"><em>accessor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>release a block accessor, allowing to re-use it or to close it</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">accessor</td><td>pointer to the block accessor</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>!= 0 if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>This function releases the block that was accessed by the block accessor. Afterwards, the accessor can be re-used for another block, or it can be closed. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
