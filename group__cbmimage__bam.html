<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cbmimage: BAM processing functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">cbmimage
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__cbmimage__bam.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">BAM processing functions</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcbmimage__i__bam__selector__s.html">cbmimage_i_bam_selector_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">BAM Selector .  <a href="structcbmimage__i__bam__selector__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcbmimage__fileimage__functions__s.html">cbmimage_fileimage_functions_s</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">BAM counter selector .  <a href="structcbmimage__fileimage__functions__s.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaad16031255e1f2f2b91bcc3d2429f3ec" id="r_gaad16031255e1f2f2b91bcc3d2429f3ec"><td class="memItemLeft" align="right" valign="top"><a id="gaad16031255e1f2f2b91bcc3d2429f3ec" name="gaad16031255e1f2f2b91bcc3d2429f3ec"></a>
typedef enum <a class="el" href="#ga7eb5ef8ee5a48d415ecf3fd7e08051cc">cbmimage_BAM_state_e</a>&#160;</td><td class="memItemRight" valign="bottom"><b>cbmimage_BAM_state</b></td></tr>
<tr class="memdesc:gaad16031255e1f2f2b91bcc3d2429f3ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">state of the BAM <br /></td></tr>
<tr class="separator:gaad16031255e1f2f2b91bcc3d2429f3ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa15a654bd97fa997d75836457faf8db6" id="r_gaa15a654bd97fa997d75836457faf8db6"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcbmimage__i__bam__selector__s.html">cbmimage_i_bam_selector_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa15a654bd97fa997d75836457faf8db6">cbmimage_i_bam_selector</a></td></tr>
<tr class="memdesc:gaa15a654bd97fa997d75836457faf8db6"><td class="mdescLeft">&#160;</td><td class="mdescRight">BAM Selector .  <br /></td></tr>
<tr class="separator:gaa15a654bd97fa997d75836457faf8db6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43cc8ac1a3a130a315eb2076183440c5" id="r_ga43cc8ac1a3a130a315eb2076183440c5"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="#gaa15a654bd97fa997d75836457faf8db6">cbmimage_i_bam_selector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga43cc8ac1a3a130a315eb2076183440c5">cbmimage_i_bam_counter_selector</a></td></tr>
<tr class="memdesc:ga43cc8ac1a3a130a315eb2076183440c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">BAM counter selector .  <br /></td></tr>
<tr class="separator:ga43cc8ac1a3a130a315eb2076183440c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae57670e0aa3acaa7005ac6bca58783f9" id="r_gae57670e0aa3acaa7005ac6bca58783f9"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structcbmimage__fileimage__functions__s.html">cbmimage_fileimage_functions_s</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae57670e0aa3acaa7005ac6bca58783f9">cbmimage_fileimage_functions</a></td></tr>
<tr class="memdesc:gae57670e0aa3acaa7005ac6bca58783f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">BAM counter selector .  <br /></td></tr>
<tr class="separator:gae57670e0aa3acaa7005ac6bca58783f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga7eb5ef8ee5a48d415ecf3fd7e08051cc" id="r_ga7eb5ef8ee5a48d415ecf3fd7e08051cc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7eb5ef8ee5a48d415ecf3fd7e08051cc">cbmimage_BAM_state_e</a> { <br />
&#160;&#160;<a class="el" href="#gga7eb5ef8ee5a48d415ecf3fd7e08051cca39b5497cfef7ad8992b6e5614fa18c42">BAM_UNKNOWN</a>
, <a class="el" href="#gga7eb5ef8ee5a48d415ecf3fd7e08051cca1eb598db91058c244f53146740c730e6">BAM_REALLY_FREE</a>
, <a class="el" href="#gga7eb5ef8ee5a48d415ecf3fd7e08051cca1d3cb73f53d48a9f78816aeea4ca3643">BAM_FREE</a>
, <a class="el" href="#gga7eb5ef8ee5a48d415ecf3fd7e08051ccab9ab958a726d799c5e9d9c1e2725406b">BAM_USED</a>
, <br />
&#160;&#160;<a class="el" href="#gga7eb5ef8ee5a48d415ecf3fd7e08051cca298ee9c53814f3a0b09501155ee98768">BAM_DOES_NOT_EXIST</a>
<br />
 }</td></tr>
<tr class="memdesc:ga7eb5ef8ee5a48d415ecf3fd7e08051cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">state of the BAM  <a href="#ga7eb5ef8ee5a48d415ecf3fd7e08051cc">More...</a><br /></td></tr>
<tr class="separator:ga7eb5ef8ee5a48d415ecf3fd7e08051cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1ae618904c93d2686730078a859c5a08" id="r_ga1ae618904c93d2686730078a859c5a08"><td class="memItemLeft" align="right" valign="top">static uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1ae618904c93d2686730078a859c5a08">reverse_bit_order</a> (uint8_t input)</td></tr>
<tr class="separator:ga1ae618904c93d2686730078a859c5a08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed7a6dc40b013cfe62c81717fe2f1c82" id="r_gaed7a6dc40b013cfe62c81717fe2f1c82"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaed7a6dc40b013cfe62c81717fe2f1c82">cbmimage_i_countbits</a> (<a class="el" href="structbam__mask__t.html">bam_mask_t</a> value)</td></tr>
<tr class="separator:gaed7a6dc40b013cfe62c81717fe2f1c82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae31baaa93bb9e986c2a619f7dd649c2a" id="r_gae31baaa93bb9e986c2a619f7dd649c2a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae31baaa93bb9e986c2a619f7dd649c2a">cbmimage_i_init_bam_selector</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, <a class="el" href="#gaa15a654bd97fa997d75836457faf8db6">cbmimage_i_bam_selector</a> *selector, size_t selector_count)</td></tr>
<tr class="separator:gae31baaa93bb9e986c2a619f7dd649c2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad06d54e4bc3150f7eb15c6e07e7e58de" id="r_gad06d54e4bc3150f7eb15c6e07e7e58de"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad06d54e4bc3150f7eb15c6e07e7e58de">cbmimage_i_get_right_selector</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, <a class="el" href="#gaa15a654bd97fa997d75836457faf8db6">cbmimage_i_bam_selector</a> *selector, size_t selector_count, uint8_t track)</td></tr>
<tr class="separator:gad06d54e4bc3150f7eb15c6e07e7e58de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga802f83405723c4260e15c170b84f370f" id="r_ga802f83405723c4260e15c170b84f370f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga802f83405723c4260e15c170b84f370f">cbmimage_i_bam_print</a> (<a class="el" href="structbam__mask__t.html">bam_mask_t</a> mask)</td></tr>
<tr class="separator:ga802f83405723c4260e15c170b84f370f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae045255ca589a4e95f63cb9e18550c17" id="r_gae045255ca589a4e95f63cb9e18550c17"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae045255ca589a4e95f63cb9e18550c17">cbmimage_i_check_max_bam_of_track</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, uint16_t track, <a class="el" href="structbam__mask__t.html">bam_mask_t</a> mask)</td></tr>
<tr class="separator:gae045255ca589a4e95f63cb9e18550c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad52776f9e4d034b25370d0976906981e" id="r_gad52776f9e4d034b25370d0976906981e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad52776f9e4d034b25370d0976906981e">cbmimage_i_get_bam_of_track</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, uint8_t track, <a class="el" href="structbam__mask__t.html">bam_mask_t</a> *mask)</td></tr>
<tr class="separator:gad52776f9e4d034b25370d0976906981e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad7b6f75caad16b26b624b396ceaa015d" id="r_gad7b6f75caad16b26b624b396ceaa015d"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad7b6f75caad16b26b624b396ceaa015d">cbmimage_i_get_bam_counter_of_track</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, uint8_t track)</td></tr>
<tr class="separator:gad7b6f75caad16b26b624b396ceaa015d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4ffc07522a54953d3345f5ac529950a" id="r_gae4ffc07522a54953d3345f5ac529950a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gae4ffc07522a54953d3345f5ac529950a">cbmimage_i_bam_check_really_unused</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, <a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> block)</td></tr>
<tr class="separator:gae4ffc07522a54953d3345f5ac529950a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8b03ca854a05566e57a9e4d41553feb" id="r_gac8b03ca854a05566e57a9e4d41553feb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="#gaad16031255e1f2f2b91bcc3d2429f3ec">cbmimage_BAM_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac8b03ca854a05566e57a9e4d41553feb">cbmimage_bam_get</a> (<a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *image, <a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> block)</td></tr>
<tr class="memdesc:gac8b03ca854a05566e57a9e4d41553feb"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the unused/used state of a block in the BAM  <br /></td></tr>
<tr class="separator:gac8b03ca854a05566e57a9e4d41553feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f123c7d2bb6253bb6409054d6e5571b" id="r_ga6f123c7d2bb6253bb6409054d6e5571b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6f123c7d2bb6253bb6409054d6e5571b">cbmimage_bam_check_consistency</a> (<a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *image)</td></tr>
<tr class="memdesc:ga6f123c7d2bb6253bb6409054d6e5571b"><td class="mdescLeft">&#160;</td><td class="mdescRight">check the consistency of a BAM  <br /></td></tr>
<tr class="separator:ga6f123c7d2bb6253bb6409054d6e5571b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6afb6cce4d0e836f2288c76387aab894" id="r_ga6afb6cce4d0e836f2288c76387aab894"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6afb6cce4d0e836f2288c76387aab894">cbmimage_get_blocks_free</a> (<a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *image)</td></tr>
<tr class="memdesc:ga6afb6cce4d0e836f2288c76387aab894"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the count of blocks free  <br /></td></tr>
<tr class="separator:ga6afb6cce4d0e836f2288c76387aab894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa762180f5736ead62150aa9a6f4256cd" id="r_gaa762180f5736ead62150aa9a6f4256cd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa762180f5736ead62150aa9a6f4256cd">cbmimage_bam_get_free_on_track</a> (<a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *image, uint8_t track)</td></tr>
<tr class="memdesc:gaa762180f5736ead62150aa9a6f4256cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">get the blocks free on a specific track  <br /></td></tr>
<tr class="separator:gaa762180f5736ead62150aa9a6f4256cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gae57670e0aa3acaa7005ac6bca58783f9" name="gae57670e0aa3acaa7005ac6bca58783f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae57670e0aa3acaa7005ac6bca58783f9">&#9670;&#160;</a></span>cbmimage_fileimage_functions</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcbmimage__fileimage__functions__s.html">cbmimage_fileimage_functions_s</a> <a class="el" href="#gae57670e0aa3acaa7005ac6bca58783f9">cbmimage_fileimage_functions</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BAM counter selector . </p>
<p>this type contains helper functions that perform image format specific operations on an image type </p>

</div>
</div>
<a id="ga43cc8ac1a3a130a315eb2076183440c5" name="ga43cc8ac1a3a130a315eb2076183440c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga43cc8ac1a3a130a315eb2076183440c5">&#9670;&#160;</a></span>cbmimage_i_bam_counter_selector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="#gaa15a654bd97fa997d75836457faf8db6">cbmimage_i_bam_selector</a> <a class="el" href="#ga43cc8ac1a3a130a315eb2076183440c5">cbmimage_i_bam_counter_selector</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BAM counter selector . </p>
<p>A bam_counter selector is almost the same as a BAM selector. Instead of pointing to the bit map of the BAM, though, it points to the location where the number of free blocks on the track is located.</p>
<p>In most cases, these are located directly before the bitmap, so the BAM selector could be used. However, in the case of the 2nd side of a D71 image, this is not true; that's why this own type of selector is needed here.</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>see also <a class="el" href="structcbmimage__i__bam__selector__s.html" title="BAM Selector .">cbmimage_i_bam_selector_s</a></li>
<li>data_count is unused and must be 0. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaa15a654bd97fa997d75836457faf8db6" name="gaa15a654bd97fa997d75836457faf8db6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa15a654bd97fa997d75836457faf8db6">&#9670;&#160;</a></span>cbmimage_i_bam_selector</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structcbmimage__i__bam__selector__s.html">cbmimage_i_bam_selector_s</a> <a class="el" href="#gaa15a654bd97fa997d75836457faf8db6">cbmimage_i_bam_selector</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BAM Selector . </p>
<p>This type describes where the BAM entries (that is, the bitmap part of the BAM) are located on disk. This way, the code that handles BAM entries is generic, and only the initialization of the BAM selector has to be image specific.</p>
<p>In case the BAM is stored in multiple blocks (or in the same block, but at different locations), an array of BAM selectors has to be used, with every selector describing one location of the BAM entries</p>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>see also <a class="el" href="#ga43cc8ac1a3a130a315eb2076183440c5" title="BAM counter selector .">cbmimage_i_bam_counter_selector</a> </li>
</ul>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ga7eb5ef8ee5a48d415ecf3fd7e08051cc" name="ga7eb5ef8ee5a48d415ecf3fd7e08051cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7eb5ef8ee5a48d415ecf3fd7e08051cc">&#9670;&#160;</a></span>cbmimage_BAM_state_e</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#ga7eb5ef8ee5a48d415ecf3fd7e08051cc">cbmimage_BAM_state_e</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>state of the BAM </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="gga7eb5ef8ee5a48d415ecf3fd7e08051cca39b5497cfef7ad8992b6e5614fa18c42" name="gga7eb5ef8ee5a48d415ecf3fd7e08051cca39b5497cfef7ad8992b6e5614fa18c42"></a>BAM_UNKNOWN&#160;</td><td class="fielddoc"><p>BAM state of block is unknown. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7eb5ef8ee5a48d415ecf3fd7e08051cca1eb598db91058c244f53146740c730e6" name="gga7eb5ef8ee5a48d415ecf3fd7e08051cca1eb598db91058c244f53146740c730e6"></a>BAM_REALLY_FREE&#160;</td><td class="fielddoc"><p>BAM state of block is "free", and the block does not contain any data. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7eb5ef8ee5a48d415ecf3fd7e08051cca1d3cb73f53d48a9f78816aeea4ca3643" name="gga7eb5ef8ee5a48d415ecf3fd7e08051cca1d3cb73f53d48a9f78816aeea4ca3643"></a>BAM_FREE&#160;</td><td class="fielddoc"><p>BAM state of block is "free", but the block contains some data. </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7eb5ef8ee5a48d415ecf3fd7e08051ccab9ab958a726d799c5e9d9c1e2725406b" name="gga7eb5ef8ee5a48d415ecf3fd7e08051ccab9ab958a726d799c5e9d9c1e2725406b"></a>BAM_USED&#160;</td><td class="fielddoc"><p>BAM state of block is "used". </p>
</td></tr>
<tr><td class="fieldname"><a id="gga7eb5ef8ee5a48d415ecf3fd7e08051cca298ee9c53814f3a0b09501155ee98768" name="gga7eb5ef8ee5a48d415ecf3fd7e08051cca298ee9c53814f3a0b09501155ee98768"></a>BAM_DOES_NOT_EXIST&#160;</td><td class="fielddoc"><p>the block does not exist </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga6f123c7d2bb6253bb6409054d6e5571b" name="ga6f123c7d2bb6253bb6409054d6e5571b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6f123c7d2bb6253bb6409054d6e5571b">&#9670;&#160;</a></span>cbmimage_bam_check_consistency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_bam_check_consistency </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *</td>          <td class="paramname"><span class="paramname"><em>image</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check the consistency of a BAM </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>pointer to the image data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if the BAM is consistent</li>
<li>!= 0 if not</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>A BAM is consistent if the following applies:<ul>
<li>no track has free blocks for sectors that do not exist</li>
<li>the free block count of a track is the same as the number of free sectors <br  />
 (i.e., the number fits the bitmap)</li>
</ul>
</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000003">Todo</a></b></dt><dd>How should details be given to the caller?</dd></dl>

</div>
</div>
<a id="gac8b03ca854a05566e57a9e4d41553feb" name="gac8b03ca854a05566e57a9e4d41553feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8b03ca854a05566e57a9e4d41553feb">&#9670;&#160;</a></span>cbmimage_bam_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="#gaad16031255e1f2f2b91bcc3d2429f3ec">cbmimage_BAM_state</a> cbmimage_bam_get </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *</td>          <td class="paramname"><span class="paramname"><em>image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a></td>          <td class="paramname"><span class="paramname"><em>block</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the unused/used state of a block in the BAM </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>pointer to the image data</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>the address of the block to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>the BAM state (BAM_REALLY_FREE, BAM_USED, BAM_FREE).</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If the block does not exist, the result is unspecified. Thus, be careful that you provide a valid track. </li>
</ul>
</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000002">Todo</a></b></dt><dd>: optimize. Getting the whole track just to extract one byte is a little bit of overhead. This can be optimized </dd></dl>

</div>
</div>
<a id="gaa762180f5736ead62150aa9a6f4256cd" name="gaa762180f5736ead62150aa9a6f4256cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa762180f5736ead62150aa9a6f4256cd">&#9670;&#160;</a></span>cbmimage_bam_get_free_on_track()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_bam_get_free_on_track </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *</td>          <td class="paramname"><span class="paramname"><em>image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>track</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the blocks free on a specific track </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>pointer to the image data</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>the track number for which the number of tracks is requested</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>count of free blocks on this track </dd></dl>

</div>
</div>
<a id="ga6afb6cce4d0e836f2288c76387aab894" name="ga6afb6cce4d0e836f2288c76387aab894"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6afb6cce4d0e836f2288c76387aab894">&#9670;&#160;</a></span>cbmimage_get_blocks_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_get_blocks_free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *</td>          <td class="paramname"><span class="paramname"><em>image</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get the count of blocks free </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>pointer to the image data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>count of free blocks on this image </dd></dl>

</div>
</div>
<a id="gae4ffc07522a54953d3345f5ac529950a" name="gae4ffc07522a54953d3345f5ac529950a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4ffc07522a54953d3345f5ac529950a">&#9670;&#160;</a></span>cbmimage_i_bam_check_really_unused()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cbmimage_i_bam_check_really_unused </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a></td>          <td class="paramname"><span class="paramname"><em>block</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>check if a block is really unused, that is, it's value is the same as after formatting</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">block</td><td>the address of the block to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if the block is used</li>
<li>!= 0 otherwise</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If the block does not exist, the result is unspecified. Thus, be careful that you provide a valid track.</li>
<li>It is tested if the block is all "0" (0x00, 0x00, 0x00, ..., 0x00) OR if it is all but the first value "1" (0x??, 0x01, 0x01, ..., 0x01) The second scheme is used in the 1541 for no apparant reason. The 0x?? is often 0x4B (the result of the GCR conversion), but not on the first track! </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga802f83405723c4260e15c170b84f370f" name="ga802f83405723c4260e15c170b84f370f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga802f83405723c4260e15c170b84f370f">&#9670;&#160;</a></span>cbmimage_i_bam_print()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cbmimage_i_bam_print </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbam__mask__t.html">bam_mask_t</a></td>          <td class="paramname"><span class="paramname"><em>mask</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>output a BAM bitmap</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>the BAM map to output </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae045255ca589a4e95f63cb9e18550c17" name="gae045255ca589a4e95f63cb9e18550c17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae045255ca589a4e95f63cb9e18550c17">&#9670;&#160;</a></span>cbmimage_i_check_max_bam_of_track()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbmimage_i_check_max_bam_of_track </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>track</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbam__mask__t.html">bam_mask_t</a></td>          <td class="paramname"><span class="paramname"><em>mask</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>check the BAM bitmap of a specific track</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>the track for which to find the BAM bitmap</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>the BAM map to check</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>-1 on error</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The BAM bitmap is invalid if<ul>
<li>the track does not exist, or</li>
<li>sectors that do not exist are marked are available </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaed7a6dc40b013cfe62c81717fe2f1c82" name="gaed7a6dc40b013cfe62c81717fe2f1c82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed7a6dc40b013cfe62c81717fe2f1c82">&#9670;&#160;</a></span>cbmimage_i_countbits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbmimage_i_countbits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structbam__mask__t.html">bam_mask_t</a></td>          <td class="paramname"><span class="paramname"><em>value</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>count the number of "1" bits</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>values of which to count the number of "1" bits</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of "1" bits in value</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>An extremly simple algorithm is used, just counting the bits in a loop. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gad7b6f75caad16b26b624b396ceaa015d" name="gad7b6f75caad16b26b624b396ceaa015d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad7b6f75caad16b26b624b396ceaa015d">&#9670;&#160;</a></span>cbmimage_i_get_bam_counter_of_track()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t cbmimage_i_get_bam_counter_of_track </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>track</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the BAM counter of a specific track</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>the track for which to find the BAM map</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>the number of free blocks on this track according to the BAM</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>If an error occurs (track does not exist), the return value is 0. Note that this cannot be distinguished from an empty BAM map, so be careful that you provide a valid track. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gad52776f9e4d034b25370d0976906981e" name="gad52776f9e4d034b25370d0976906981e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad52776f9e4d034b25370d0976906981e">&#9670;&#160;</a></span>cbmimage_i_get_bam_of_track()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbmimage_i_get_bam_of_track </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>track</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structbam__mask__t.html">bam_mask_t</a> *</td>          <td class="paramname"><span class="paramname"><em>mask</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the BAM bitmap of a specific track</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>the track for which to find the BAM bitmap</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">mask</td><td>pointer to a <a class="el" href="structbam__mask__t.html" title="contains the BAM of a specific track">bam_mask_t</a> that will contain the BAM map on exit</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>-1 on error </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gad06d54e4bc3150f7eb15c6e07e7e58de" name="gad06d54e4bc3150f7eb15c6e07e7e58de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad06d54e4bc3150f7eb15c6e07e7e58de">&#9670;&#160;</a></span>cbmimage_i_get_right_selector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbmimage_i_get_right_selector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gaa15a654bd97fa997d75836457faf8db6">cbmimage_i_bam_selector</a> *</td>          <td class="paramname"><span class="paramname"><em>selector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>selector_count</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>track</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the BAM selector that matches a specific track</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">selector</td><td>array of the selectors</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">selector_count</td><td>number of elements in the selector array</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>the track for which to find the BAM selector</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>The index of the selector to which the track belongs</li>
<li>If an error occurs (track does not exist), the return value is -1 </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gae31baaa93bb9e986c2a619f7dd649c2a" name="gae31baaa93bb9e986c2a619f7dd649c2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae31baaa93bb9e986c2a619f7dd649c2a">&#9670;&#160;</a></span>cbmimage_i_init_bam_selector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cbmimage_i_init_bam_selector </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="#gaa15a654bd97fa997d75836457faf8db6">cbmimage_i_bam_selector</a> *</td>          <td class="paramname"><span class="paramname"><em>selector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>selector_count</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>init a BAM selector</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">selector</td><td>array of the selectors to initialize</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">selector_count</td><td>number of elements in the selector array</td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>The LBA part of the block address is initialized from the T/S values</li>
<li>The buffer pointer is set to the right location inside of the image </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga1ae618904c93d2686730078a859c5a08" name="ga1ae618904c93d2686730078a859c5a08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1ae618904c93d2686730078a859c5a08">&#9670;&#160;</a></span>reverse_bit_order()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t reverse_bit_order </td>
          <td>(</td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>input</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>reverse the bit order in the byte</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>byte value of which the bit order should be reversed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the byte value with the reversed bits</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>An extremly simple algorithm is used, just shifting out a bit from the input and shifting it in into the output in reverse order.</li>
</ul>
</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo</a></b></dt><dd>reversing can be optimized, for example by using a lookup table</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
