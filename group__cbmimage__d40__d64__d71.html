<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cbmimage: D64/D71/D40 specific functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">cbmimage
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__cbmimage__d40__d64__d71.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">D64/D71/D40 specific functions</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga88ffaf3ca61e7ef74c23ee16f9b01d86" id="r_ga88ffaf3ca61e7ef74c23ee16f9b01d86"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga88ffaf3ca61e7ef74c23ee16f9b01d86">cbmimage_i_d40_d64_d71_get_sectors_in_track</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, uint16_t track)</td></tr>
<tr class="separator:ga88ffaf3ca61e7ef74c23ee16f9b01d86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff70bdd2d587b3bbdd293c36a7cecaee" id="r_gaff70bdd2d587b3bbdd293c36a7cecaee"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaff70bdd2d587b3bbdd293c36a7cecaee">cbmimage_i_d40_d64_d71_ts_to_blockaddress</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, <a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> *block)</td></tr>
<tr class="separator:gaff70bdd2d587b3bbdd293c36a7cecaee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga73076de923a5f93806d542b33de2f5d7" id="r_ga73076de923a5f93806d542b33de2f5d7"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga73076de923a5f93806d542b33de2f5d7">cbmimage_i_d40_d64_d71_lba_to_blockaddress</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, <a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> *block)</td></tr>
<tr class="separator:ga73076de923a5f93806d542b33de2f5d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga413ab16de33db98cda197ed2b0344c25" id="r_ga413ab16de33db98cda197ed2b0344c25"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga413ab16de33db98cda197ed2b0344c25">cbmimage_i_d40_d64_d71_calculate_track_lba_start_table</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings)</td></tr>
<tr class="separator:ga413ab16de33db98cda197ed2b0344c25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2675ba07fad00ec5caf82f7a09cfbe48" id="r_ga2675ba07fad00ec5caf82f7a09cfbe48"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga2675ba07fad00ec5caf82f7a09cfbe48">cbmimage_i_d71_set_bam</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings)</td></tr>
<tr class="separator:ga2675ba07fad00ec5caf82f7a09cfbe48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga00c414d3eeb6e24cc01f831c252da95d" id="r_ga00c414d3eeb6e24cc01f831c252da95d"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga00c414d3eeb6e24cc01f831c252da95d">cbmimage_i_d40_d64_d71_get_geos_infoblock</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings)</td></tr>
<tr class="separator:ga00c414d3eeb6e24cc01f831c252da95d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga880f76af57d5bbdfd497586457456a94" id="r_ga880f76af57d5bbdfd497586457456a94"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga880f76af57d5bbdfd497586457456a94">cbmimage_i_d40_d64_d71_chdir_partition_init</a> (<a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *settings, <a class="el" href="group__cbmimage__image.html#gab32bc40bb6d118fbc4ef86acacb39ae1">cbmimage_imagetype</a> imagetype, unsigned char *imagetype_name, uint8_t maxtracks)</td></tr>
<tr class="separator:ga880f76af57d5bbdfd497586457456a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab0916581f5564b317dfa12be9330ff90" id="r_gab0916581f5564b317dfa12be9330ff90"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gab0916581f5564b317dfa12be9330ff90">cbmimage_i_d40_d64_d71_image_create</a> (<a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *image, <a class="el" href="group__cbmimage__image.html#gab32bc40bb6d118fbc4ef86acacb39ae1">cbmimage_imagetype</a> imagetype, unsigned char *imagetype_name, uint8_t maxtracks)</td></tr>
<tr class="separator:gab0916581f5564b317dfa12be9330ff90"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga3395832797b4c8b3551130a51f903e12" id="r_ga3395832797b4c8b3551130a51f903e12"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="group__cbmimage__bam.html#gae57670e0aa3acaa7005ac6bca58783f9">cbmimage_fileimage_functions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3395832797b4c8b3551130a51f903e12">d64_fileimage_functions</a></td></tr>
<tr class="separator:ga3395832797b4c8b3551130a51f903e12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad985c9b9b352aa24acd1452b999e4a9a" id="r_gad985c9b9b352aa24acd1452b999e4a9a"><td class="memItemLeft" align="right" valign="top">static const <a class="el" href="group__cbmimage__bam.html#gae57670e0aa3acaa7005ac6bca58783f9">cbmimage_fileimage_functions</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gad985c9b9b352aa24acd1452b999e4a9a">d71_fileimage_functions</a></td></tr>
<tr class="separator:gad985c9b9b352aa24acd1452b999e4a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga413ab16de33db98cda197ed2b0344c25" name="ga413ab16de33db98cda197ed2b0344c25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga413ab16de33db98cda197ed2b0344c25">&#9670;&#160;</a></span>cbmimage_i_d40_d64_d71_calculate_track_lba_start_table()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cbmimage_i_d40_d64_d71_calculate_track_lba_start_table </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>create the "LBA start table"</p>
<p>In order to ease the calculation of LBA to T/S or vice versa (cf. <a class="el" href="#gaff70bdd2d587b3bbdd293c36a7cecaee">cbmimage_i_d40_d64_d71_ts_to_blockaddress()</a>, <a class="el" href="#ga73076de923a5f93806d542b33de2f5d7">cbmimage_i_d40_d64_d71_lba_to_blockaddress()</a>) an internal table of the first LBA on a track is used internally. <br  />
This function initializes this table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga880f76af57d5bbdfd497586457456a94" name="ga880f76af57d5bbdfd497586457456a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga880f76af57d5bbdfd497586457456a94">&#9670;&#160;</a></span>cbmimage_i_d40_d64_d71_chdir_partition_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbmimage_i_d40_d64_d71_chdir_partition_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#gab32bc40bb6d118fbc4ef86acacb39ae1">cbmimage_imagetype</a></td>          <td class="paramname"><span class="paramname"><em>imagetype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>imagetype_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>maxtracks</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>create structures for a D40, D64 or D71 image</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image settings</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imagetype</td><td>The type of image that should be created</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imagetype_name</td><td>The name of the image type that should be stored in the images. <br  />
 This value is only informational and can be asked for by the user; it is not used internally.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxtracks</td><td>The maximum number of tracks of this image</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 on success</li>
<li>-1 on error </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga00c414d3eeb6e24cc01f831c252da95d" name="ga00c414d3eeb6e24cc01f831c252da95d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga00c414d3eeb6e24cc01f831c252da95d">&#9670;&#160;</a></span>cbmimage_i_d40_d64_d71_get_geos_infoblock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbmimage_i_d40_d64_d71_get_geos_infoblock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the GEOS info block of this image has one</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if this is a non-GEOS image</li>
<li>!= 0 if this is a GEOS image </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga88ffaf3ca61e7ef74c23ee16f9b01d86" name="ga88ffaf3ca61e7ef74c23ee16f9b01d86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88ffaf3ca61e7ef74c23ee16f9b01d86">&#9670;&#160;</a></span>cbmimage_i_d40_d64_d71_get_sectors_in_track()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t cbmimage_i_d40_d64_d71_get_sectors_in_track </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t</td>          <td class="paramname"><span class="paramname"><em>track</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>get the number of sectors on a specific track of the D64 image</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">track</td><td>the track number for which to obtain the number of sectors</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of sectors on this specific track in the image</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>This is the number of sectors on this specific track. Due to the nature of many CBM disk images, including D64, D71 and D40 images, the number of sectors can vary from track to track. <br  />
 To obtain the maximum number of sectors on any track, use <a class="el" href="group__cbmimage__image.html#ga1ddbb33e10d498e4388e28d15f443942" title="get the maximum sectors on a track of the image">cbmimage_get_max_sectors()</a> instead!</li>
<li>As the CBM sector numbering goes, the sector range is from 0 to the result of this call minus 1. <br  />
 For example, for D64 images on the first speed zone (i.e., tracks 1 to 17), this function will return 21, giving a range of 0 .. 20. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gab0916581f5564b317dfa12be9330ff90" name="gab0916581f5564b317dfa12be9330ff90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab0916581f5564b317dfa12be9330ff90">&#9670;&#160;</a></span>cbmimage_i_d40_d64_d71_image_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cbmimage_i_d40_d64_d71_image_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga5169ab6270433dcb80cb916b9f4f18c7">cbmimage_fileimage</a> *</td>          <td class="paramname"><span class="paramname"><em>image</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#gab32bc40bb6d118fbc4ef86acacb39ae1">cbmimage_imagetype</a></td>          <td class="paramname"><span class="paramname"><em>imagetype</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char *</td>          <td class="paramname"><span class="paramname"><em>imagetype_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t</td>          <td class="paramname"><span class="paramname"><em>maxtracks</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>create a D64, D71 or D40 image</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">image</td><td>pointer to the image data</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imagetype</td><td>The type of image that should be created</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">imagetype_name</td><td>The name of the image type that should be stored in the images. <br  />
 This value is only informational and can be asked for by the user; it is not used internally.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">maxtracks</td><td>The maximum number of tracks of this image </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga73076de923a5f93806d542b33de2f5d7" name="ga73076de923a5f93806d542b33de2f5d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga73076de923a5f93806d542b33de2f5d7">&#9670;&#160;</a></span>cbmimage_i_d40_d64_d71_lba_to_blockaddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbmimage_i_d40_d64_d71_lba_to_blockaddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> *</td>          <td class="paramname"><span class="paramname"><em>block</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>convert the LBA to T/S block address</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">block</td><td>pointer to a block address with an initialized LBA address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if no error occurred</li>
<li>!= 0 if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>the block address is completely created from the lba parameter</li>
<li>an error occurs if the lba block does not exist on this type of image </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaff70bdd2d587b3bbdd293c36a7cecaee" name="gaff70bdd2d587b3bbdd293c36a7cecaee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaff70bdd2d587b3bbdd293c36a7cecaee">&#9670;&#160;</a></span>cbmimage_i_d40_d64_d71_ts_to_blockaddress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbmimage_i_d40_d64_d71_ts_to_blockaddress </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__blockaddress.html#ga4beaaf8e2c9f869003821e925a6c8273">cbmimage_blockaddress</a> *</td>          <td class="paramname"><span class="paramname"><em>block</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>convert the T/S to LBA block address</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">block</td><td>pointer to a block address witn an initialized T/S address</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if no error occurred</li>
<li>!= 0 if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>the block address is completely created from the ts parameter</li>
<li>an error occurs if the track/sector combination does not exist on this type of image </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga2675ba07fad00ec5caf82f7a09cfbe48" name="ga2675ba07fad00ec5caf82f7a09cfbe48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2675ba07fad00ec5caf82f7a09cfbe48">&#9670;&#160;</a></span>cbmimage_i_d71_set_bam()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int cbmimage_i_d71_set_bam </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cbmimage__image.html#ga85510e889b0e546a0bc47dbed50eb4e4">cbmimage_image_settings</a> *</td>          <td class="paramname"><span class="paramname"><em>settings</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Occupy additional BAM entries for 1571 second directory track</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">settings</td><td>pointer to the image data internal settings</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>0 if no error occurred</li>
<li>!= 0 if an error occurred</li>
</ul>
</dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd><ul>
<li>The 1571 marks the 2nd dir track as used. Mimic that behaviour. </li>
</ul>
</dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ga3395832797b4c8b3551130a51f903e12" name="ga3395832797b4c8b3551130a51f903e12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3395832797b4c8b3551130a51f903e12">&#9670;&#160;</a></span>d64_fileimage_functions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__cbmimage__bam.html#gae57670e0aa3acaa7005ac6bca58783f9">cbmimage_fileimage_functions</a> d64_fileimage_functions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .get_sectors_in_track = <a class="code hl_function" href="#ga88ffaf3ca61e7ef74c23ee16f9b01d86">cbmimage_i_d40_d64_d71_get_sectors_in_track</a>,</div>
<div class="line">  .ts_to_blockaddress = <a class="code hl_function" href="#gaff70bdd2d587b3bbdd293c36a7cecaee">cbmimage_i_d40_d64_d71_ts_to_blockaddress</a>,</div>
<div class="line">  .lba_to_blockaddress = <a class="code hl_function" href="#ga73076de923a5f93806d542b33de2f5d7">cbmimage_i_d40_d64_d71_lba_to_blockaddress</a>,</div>
<div class="line">}</div>
<div class="ttc" id="agroup__cbmimage__d40__d64__d71_html_ga73076de923a5f93806d542b33de2f5d7"><div class="ttname"><a href="#ga73076de923a5f93806d542b33de2f5d7">cbmimage_i_d40_d64_d71_lba_to_blockaddress</a></div><div class="ttdeci">static int cbmimage_i_d40_d64_d71_lba_to_blockaddress(cbmimage_image_settings *settings, cbmimage_blockaddress *block)</div><div class="ttdef"><b>Definition</b> d40_d64_d71.c:198</div></div>
<div class="ttc" id="agroup__cbmimage__d40__d64__d71_html_ga88ffaf3ca61e7ef74c23ee16f9b01d86"><div class="ttname"><a href="#ga88ffaf3ca61e7ef74c23ee16f9b01d86">cbmimage_i_d40_d64_d71_get_sectors_in_track</a></div><div class="ttdeci">static uint16_t cbmimage_i_d40_d64_d71_get_sectors_in_track(cbmimage_image_settings *settings, uint16_t track)</div><div class="ttdef"><b>Definition</b> d40_d64_d71.c:122</div></div>
<div class="ttc" id="agroup__cbmimage__d40__d64__d71_html_gaff70bdd2d587b3bbdd293c36a7cecaee"><div class="ttname"><a href="#gaff70bdd2d587b3bbdd293c36a7cecaee">cbmimage_i_d40_d64_d71_ts_to_blockaddress</a></div><div class="ttdeci">static int cbmimage_i_d40_d64_d71_ts_to_blockaddress(cbmimage_image_settings *settings, cbmimage_blockaddress *block)</div><div class="ttdef"><b>Definition</b> d40_d64_d71.c:158</div></div>
</div><!-- fragment --><p>template for the file image functions for D40 or D64 images</p>
<p>This is a template that is copied into the image specific data. This template defines the functions for D40 and D64 images. </p>

</div>
</div>
<a id="gad985c9b9b352aa24acd1452b999e4a9a" name="gad985c9b9b352aa24acd1452b999e4a9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad985c9b9b352aa24acd1452b999e4a9a">&#9670;&#160;</a></span>d71_fileimage_functions</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="group__cbmimage__bam.html#gae57670e0aa3acaa7005ac6bca58783f9">cbmimage_fileimage_functions</a> d71_fileimage_functions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">  .get_sectors_in_track = <a class="code hl_function" href="#ga88ffaf3ca61e7ef74c23ee16f9b01d86">cbmimage_i_d40_d64_d71_get_sectors_in_track</a>,</div>
<div class="line">  .ts_to_blockaddress = <a class="code hl_function" href="#gaff70bdd2d587b3bbdd293c36a7cecaee">cbmimage_i_d40_d64_d71_ts_to_blockaddress</a>,</div>
<div class="line">  .lba_to_blockaddress = <a class="code hl_function" href="#ga73076de923a5f93806d542b33de2f5d7">cbmimage_i_d40_d64_d71_lba_to_blockaddress</a>,</div>
<div class="line">  .set_bam = <a class="code hl_function" href="#ga2675ba07fad00ec5caf82f7a09cfbe48">cbmimage_i_d71_set_bam</a>,</div>
<div class="line">}</div>
<div class="ttc" id="agroup__cbmimage__d40__d64__d71_html_ga2675ba07fad00ec5caf82f7a09cfbe48"><div class="ttname"><a href="#ga2675ba07fad00ec5caf82f7a09cfbe48">cbmimage_i_d71_set_bam</a></div><div class="ttdeci">static int cbmimage_i_d71_set_bam(cbmimage_image_settings *settings)</div><div class="ttdef"><b>Definition</b> d40_d64_d71.c:273</div></div>
</div><!-- fragment --><p>template for the file image functions for D71 images</p>
<p>This is a template that is copied into the image specific data. This template defines the functions for D71 images. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
